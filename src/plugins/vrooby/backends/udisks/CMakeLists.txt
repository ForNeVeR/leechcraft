SET (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")

FIND_PACKAGE (Boost REQUIRED COMPONENTS filesystem)

SET (QT_USE_QTDBUS TRUE)
INCLUDE (${QT_USE_FILE})
INCLUDE_DIRECTORIES (${Boost_INCLUDE_DIR})

SET (SRCS
	udisksbackend.cpp
	)

SET (UDISKS_BACKEND_LIB leechcraft_vrooby_udisks)
SET (UDISKS_BACKEND_LIB ${UDISKS_BACKEND_LIB} PARENT_SCOPE)

ADD_LIBRARY (${UDISKS_BACKEND_LIB} STATIC
	${SRCS}
	)
TARGET_LINK_LIBRARIES (${UDISKS_BACKEND_LIB}
	${QT_LIBRARIES}
	${Boost_FILESYSTEM_LIBRARY}
	)